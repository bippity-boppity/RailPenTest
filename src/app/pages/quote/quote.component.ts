import { Component, ViewChild } from '@angular/core';
import { StageOneComponent } from './components/stage-one/stage-one.component';

@Component({
  selector: 'app-quote',
  templateUrl: './quote.component.html',
  styleUrls: ['./quote.component.scss']
})
export class QuoteComponent {
  currentStage: number = 1;
  totalStages: number = 2;
  name: string = '';
  email: string = '';
  number: string = '';
  company: string = '';
  @ViewChild(StageOneComponent) stageOneComponent!: StageOneComponent;

  returnToPreviousStage() {
    this.currentStage = 1;
  }

  onSubmit() {
    this.stageOneComponent.form.markAllAsTouched();
    if (this.stageOneComponent.form.valid) {
      this.name = this.stageOneComponent.form.get('name')?.value;
      this.email = this.stageOneComponent.form.get('email')?.value;
      this.number = this.stageOneComponent.form.get('number')?.value;
      this.company = this.stageOneComponent.form.get('company')?.value;
      this.currentStage = 2;
    }
  }
}
